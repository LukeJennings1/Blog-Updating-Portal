{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac1/Node.JS/Blog-Updating-Portal/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac1/Node.JS/Blog-Updating-Portal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac1/Node.JS/Blog-Updating-Portal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//   const Submitnewarticle = async () => {\n//     const fetchedData = await fetch('http://localhost:3001/posts') // fetch the api\n// }\n//   Submitnewarticle()\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),apiData=_useState2[0],setApiData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),BlogTitle=_useState4[0],SetBlogTitle=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),BlogSubTitle=_useState6[0],SetBlogSubTitle=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),BlogBody=_useState8[0],SetBlogBody=_useState8[1];var newBlogPostdata={BlogTitle:BlogTitle,BlogSubTitle:BlogSubTitle,BlogBody:BlogBody};var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),blogarticleposts=_useState10[0],setblogarticleposts=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),blogarticlcomments=_useState12[0],setblogarticlecomments=_useState12[1];useEffect(function(){var fetchblogposts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fetchapiaddress;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://my-blog.up.railway.app/posts');case 2:fetchapiaddress=_context.sent;fetchapiaddress.json().then(function(result){setblogarticleposts(result);}).catch(function(err){return console.log(err);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchblogposts(){return _ref.apply(this,arguments);};}();var fetchblogcomments=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var fetchapiaddress;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://my-blog.up.railway.app/comments');case 2:fetchapiaddress=_context2.sent;fetchapiaddress.json().then(function(result){setblogarticlecomments(result);console.log(result);}).catch(function(err){console.log(err);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchblogcomments(){return _ref2.apply(this,arguments);};}();fetchblogcomments();fetchblogposts();},[]);var newblogpost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var fetchposts;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(BlogTitle,BlogBody,BlogSubTitle);e.preventDefault();_context3.next=4;return fetch('https://my-blog.up.railway.app/newarticle',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBlogPostdata)});case 4:fetchposts=_context3.sent;case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function newblogpost(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"Text\",placeholder:\"Blog Title\",onChange:function onChange(e){SetBlogTitle(e.target.value);},name:\"blogTitle\"}),/*#__PURE__*/_jsx(\"input\",{type:\"Text\",placeholder:\"Blog Title\",onChange:function onChange(e){SetBlogSubTitle(e.target.value);},name:\"blogSubTitle\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Blog Title\",onChange:function onChange(e){SetBlogBody(e.target.value);},name:\"blogSubTitle\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:function onClick(e){newblogpost(e);}})]})}),/*#__PURE__*/_jsx(\"div\",{children:blogarticlcomments.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:item.username}),/*#__PURE__*/_jsx(\"div\",{children:item.message}),/*#__PURE__*/_jsxs(\"form\",{action:\"https://my-blog.up.railway.app/deletecomment\",method:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"id\",value:item._id}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",placeholder:\"Delete\",children:\"Delete Comment\"})]})]},item._id);})}),/*#__PURE__*/_jsx(\"div\",{children:blogarticleposts.map(function(item){console.log(item);return/*#__PURE__*/_jsxs(\"div\",{children:[item.blogTitle,/*#__PURE__*/_jsxs(\"form\",{action:\"https://my-blog.up.railway.app/delete\",method:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"id\",value:item._id}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",placeholder:\"Delete\",children:\"Delete Post\"})]})]},item._id);})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","App","apiData","setApiData","BlogTitle","SetBlogTitle","BlogSubTitle","SetBlogSubTitle","BlogBody","SetBlogBody","newBlogPostdata","blogarticleposts","setblogarticleposts","blogarticlcomments","setblogarticlecomments","fetchblogposts","fetch","fetchapiaddress","json","then","result","catch","err","console","log","fetchblogcomments","newblogpost","e","preventDefault","method","headers","body","JSON","stringify","fetchposts","target","value","map","item","username","message","_id","blogTitle"],"sources":["/Users/mac1/Node.JS/Blog-Updating-Portal/src/App.js"],"sourcesContent":["import './App.css';\nimport {useState, useEffect} from 'react'\n\nfunction App() {\n\n//   const Submitnewarticle = async () => {\n//     const fetchedData = await fetch('http://localhost:3001/posts') // fetch the api\n\n// }\n//   Submitnewarticle()\n  const [apiData, setApiData] = useState([]);\n\nconst [BlogTitle, SetBlogTitle] = useState()\nconst [BlogSubTitle, SetBlogSubTitle] = useState()\nconst [BlogBody, SetBlogBody] = useState()\nconst newBlogPostdata = {\n  BlogTitle,\n  BlogSubTitle,\n  BlogBody,\n}\nconst [blogarticleposts, setblogarticleposts] = useState([])\nconst [blogarticlcomments, setblogarticlecomments] = useState([])\n\n\nuseEffect(() => {\n  const fetchblogposts = async () => { // fetches blog posts from the blog post api\n    const fetchapiaddress = await fetch('https://my-blog.up.railway.app/posts')\n    fetchapiaddress.json().then((result) => {setblogarticleposts(result)}).catch((err) => console.log(err))\n  }\n  const fetchblogcomments = async () => {\n    const fetchapiaddress = await fetch('https://my-blog.up.railway.app/comments')\n    fetchapiaddress.json().then((result) => {setblogarticlecomments(result); console.log(result)}).catch((err) => {console.log(err)})\n  } \n  fetchblogcomments()\n  fetchblogposts()\n},[]);\n\n  const newblogpost = async (e) => { \n    console.log(BlogTitle,BlogBody,BlogSubTitle)\n    e.preventDefault();\n    const fetchposts = await fetch('https://my-blog.up.railway.app/newarticle', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newBlogPostdata)\n    })\n  }\n\n\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <form>\n          <input type = 'Text' placeholder='Blog Title' onChange={(e) => {SetBlogTitle(e.target.value)}} name = 'blogTitle'></input>\n          <input type = 'Text' placeholder='Blog Title' onChange={(e) => {SetBlogSubTitle(e.target.value)}} name = 'blogSubTitle'></input>\n          <textarea placeholder='Blog Title' onChange={(e) => {SetBlogBody(e.target.value)}} name = 'blogSubTitle'></textarea>\n          <input type = 'submit' onClick={(e) => {newblogpost(e)}}></input>\n        </form>\n      </header>\n      <div>\n        {blogarticlcomments.map((item) => {\n          return (\n            <div key = {item._id}>\n              <div>{item.username}</div>\n              <div>{item.message}</div>\n              <form action='https://my-blog.up.railway.app/deletecomment' method='POST'>\n                <input type=\"hidden\"  name = 'id' value={item._id}></input>\n                  <button type='submit' placeholder='Delete'>Delete Comment</button>\n              </form>\n            </div>\n          )\n        })}\n      </div>\n\n      <div>{blogarticleposts.map((item) => {\n        console.log(item)\n        return (\n          <div key={item._id}>\n            {item.blogTitle}\n             <form action='https://my-blog.up.railway.app/delete' method='POST'>\n               <input type=\"hidden\" name = 'id' value={item._id}></input>\n                  <button type='submit' placeholder='Delete'>Delete Post</button>\n                </form>\n          </div>\n        )\n      })}</div>\n    </div>\n  );\n}\n\n\n\n\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}